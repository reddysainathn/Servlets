package com.controller;

import java.io.IOException;
import java.util.HashMap;

import javax.servlet.GenericServlet;
import javax.servlet.RequestDispatcher;
import javax.servlet.Servlet;
import javax.servlet.ServletConfig;
import javax.servlet.ServletException;
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;
import javax.servlet.annotation.WebServlet;

/**
 * Servlet implementation class LoginServlet
 */
@WebServlet("/LoginServlet")
public class LoginServlet extends GenericServlet implements Servlet {
	HashMap<String, String> userDetails = new HashMap<String, String>();

	@Override
	public void init(ServletConfig config) throws ServletException {

		userDetails.put("hary", "hary123");
		userDetails.put("john", "john123");
		userDetails.put("kumar", "kumar123");
	}

	public void service(ServletRequest request, ServletResponse response) throws ServletException, IOException {

		
	String username=request.getParameter("username");
	
	String password=request.getParameter("password");
	
	if(userDetails.containsKey(username)){
		
		
			if(userDetails.get(username) .equals(password)){
				
				RequestDispatcher requestdispacher = request.getRequestDispatcher("AccountServlet");
				requestdispacher.forward(request, response);}
			
			System.out.println("Username"+username);
			System.out.println("Password:"+password);
	}else{
		RequestDispatcher requestdispacher = request.getRequestDispatcher("/login.html");
		requestdispacher.forward(request, response);
	}else{
		RequestDispatcher requestdispacher = request.getRequestDispatcher("/login.html");
		requestdispacher.forward(request, response);
	}
				

}
	}
